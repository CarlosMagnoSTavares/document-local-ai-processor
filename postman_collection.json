{
  "info": {
    "_postman_id": "myelin-ocr-llm-collection-2024",
    "name": "ðŸ§  Document OCR LLM API - Complete Collection",
    "description": "Collection completa da API para anÃ¡lise de documentos com OCR e modelos de linguagem locais (Ollama)\n\nðŸ“‹ **Ordem de ExecuÃ§Ã£o:**\n1. Status & Info\n2. Smart Upload (Auto-Detection)\n3. Monitor Processing\n4. Get Results\n5. Compute Configuration\n6. Model Management\n7. Error Testing\n\nðŸ”‘ **API Key:** myelin-ocr-llm-2024-super-secret-key\n\nðŸ†• **Novidades v1.2:**\n- âœ… ðŸš€ SMART UPLOAD - DetecÃ§Ã£o automÃ¡tica de tipo de arquivo\n- âœ… âš™ï¸ ConfiguraÃ§Ã£o CPU/GPU para Ollama\n- âœ… ðŸ“Š Logs verbosos com detecÃ§Ã£o automÃ¡tica\n- âœ… ðŸ¤– Download e gerenciamento de modelos\n- âœ… ðŸ”„ PersistÃªncia de configuraÃ§Ãµes",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "myelin-2024"
  },
  "item": [
    {
      "name": "ðŸ“Š 1. Status & Information",
      "description": "Endpoints para verificar status da API e obter informaÃ§Ãµes",
      "item": [
        {
          "name": "Health Check âœ…",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Verifica se a API estÃ¡ funcionando corretamente.\n\n**Quando usar:** Primeiro teste a fazer\n**Resposta esperada:** Status healthy"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/health",
                  "host": ["{{base_url}}"],
                  "path": ["health"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"healthy\",\n    \"message\": \"Document OCR LLM API is running\"\n}"
            }
          ]
        },
        {
          "name": "API Information ðŸ“–",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "ObtÃ©m informaÃ§Ãµes sobre a API, endpoints e headers necessÃ¡rios.\n\n**Quando usar:** Para conhecer a API\n**Resposta:** DocumentaÃ§Ã£o dos endpoints"
          },
          "response": [
            {
              "name": "API Info Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/",
                  "host": ["{{base_url}}"],
                  "path": [""]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"message\": \"Document OCR LLM API\",\n    \"version\": \"1.0.0\",\n    \"endpoints\": {\n        \"POST /upload\": \"Upload document for processing\",\n        \"GET /queue\": \"Get processing queue status\",\n        \"GET /response/{id}\": \"Get document response\",\n        \"GET /health\": \"Health check\"\n    },\n    \"required_headers\": {\n        \"Key\": \"API authentication key\",\n        \"Prompt\": \"Question about the document\",\n        \"Format-Response\": \"Expected response format\",\n        \"Model\": \"Ollama model name\",\n        \"Example\": \"Optional response example\"\n    }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ“¤ 2. Smart Upload (Auto-Detection)",
      "description": "ðŸš€ UPLOAD INTELIGENTE - Detecta automaticamente o tipo de arquivo e usa a ferramenta correta",
      "item": [
        {
          "name": "Smart Upload - Image (Auto OCR) ðŸ–¼ï¸",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.document_id) {",
                  "        pm.collectionVariables.set('document_id', response.document_id);",
                  "        pm.collectionVariables.set('last_uploaded_filename', response.filename);",
                  "        console.log('âœ… Document uploaded successfully!');",
                  "        console.log('ðŸ“„ Document ID:', response.document_id);",
                  "        console.log('ðŸ“ Filename:', response.filename);",
                  "    }",
                  "} else {",
                  "    console.log('âŒ Upload failed:', pm.response.text());",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              },
              {
                "key": "Prompt",
                "value": "Verifique qual CNPJ existe nesse documento e extraia todas as informaÃ§Ãµes da empresa",
                "type": "text",
                "description": "â“ Pergunta sobre o documento"
              },
              {
                "key": "Format-Response",
                "value": "[{\"CNPJ\": \"\", \"empresa\": \"\", \"endereco\": \"\"}]",
                "type": "text",
                "description": "ðŸ“‹ Formato esperado da resposta (JSON)"
              },
              {
                "key": "Model",
                "value": "gemma3:1b",
                "type": "text",
                "description": "ðŸ¤– Modelo Ollama a utilizar"
              },
              {
                "key": "Example",
                "value": "[{\"CNPJ\": \"12.345.678/0001-90\", \"empresa\": \"Empresa Exemplo LTDA\", \"endereco\": \"Rua das Flores, 123\"}]",
                "type": "text",
                "description": "ðŸ“ Exemplo de resposta esperada"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "ðŸ“Ž Selecione o arquivo teste.jpg ou qualquer imagem (JPG, PNG) que contenha texto"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload",
              "host": ["{{base_url}}"],
              "path": ["upload"]
            },
            "description": "ðŸš€ SMART UPLOAD para imagens - O sistema detecta automaticamente que Ã© uma imagem e usa Tesseract OCR.\n\n**Auto-detecÃ§Ã£o:** JPG, JPEG, PNG â†’ Tesseract OCR\n**Arquivo:** teste.jpg (incluÃ­do no projeto)\n**Processamento:** Auto-detecÃ§Ã£o â†’ OCR â†’ LLM â†’ Resposta formatada"
          },
          "response": [
            {
              "name": "Upload Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  },
                  {
                    "key": "Prompt",
                    "value": "Verifique qual CNPJ existe nesse documento"
                  },
                  {
                    "key": "Format-Response",
                    "value": "[{\"CNPJ\": \"\"}]"
                  },
                  {
                    "key": "Model",
                    "value": "gemma3:1b"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file"
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/upload",
                  "host": ["{{base_url}}"],
                  "path": ["upload"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Document uploaded and processing started\",\n    \"document_id\": 1,\n    \"filename\": \"teste.jpg\"\n}"
            }
          ]
        },
        {
          "name": "Smart Upload - PDF (Auto Parser) ðŸ“„",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              },
              {
                "key": "Prompt",
                "value": "Extraia todos os dados pessoais mencionados neste documento PDF",
                "type": "text"
              },
              {
                "key": "Format-Response",
                "value": "[{\"nome\": \"\", \"cpf\": \"\", \"rg\": \"\", \"endereco\": \"\", \"telefone\": \"\"}]",
                "type": "text"
              },
              {
                "key": "Model",
                "value": "gemma3:1b",
                "type": "text"
              },
              {
                "key": "Example",
                "value": "[{\"nome\": \"JoÃ£o Silva\", \"cpf\": \"123.456.789-00\", \"rg\": \"12.345.678-9\", \"endereco\": \"Rua das Flores, 123\", \"telefone\": \"(11) 99999-9999\"}]",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "ðŸ“Ž Selecione um arquivo PDF"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload",
              "host": ["{{base_url}}"],
              "path": ["upload"]
            },
            "description": "ðŸš€ SMART UPLOAD para PDFs - O sistema detecta automaticamente que Ã© um PDF e usa PyPDF2 Parser.\n\n**Auto-detecÃ§Ã£o:** PDF â†’ PyPDF2 Parser\n**Processamento:** Auto-detecÃ§Ã£o â†’ PDF Parser â†’ LLM â†’ Resposta formatada"
          },
          "response": []
        },
        {
          "name": "Smart Upload - DOCX (Auto Parser) ðŸ“",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              },
              {
                "key": "Prompt",
                "value": "Liste todas as empresas e CNPJs mencionados neste documento",
                "type": "text"
              },
              {
                "key": "Format-Response",
                "value": "[{\"empresa\": \"\", \"cnpj\": \"\", \"tipo\": \"\"}]",
                "type": "text"
              },
              {
                "key": "Model",
                "value": "gemma3:1b",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "ðŸ“Ž Selecione um arquivo DOCX"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload",
              "host": ["{{base_url}}"],
              "path": ["upload"]
            },
            "description": "ðŸš€ SMART UPLOAD para documentos Word - O sistema detecta automaticamente que Ã© um DOCX e usa python-docx Parser.\n\n**Auto-detecÃ§Ã£o:** DOCX, DOC â†’ python-docx Parser\n**Processamento:** Auto-detecÃ§Ã£o â†’ DOCX Parser â†’ LLM â†’ Resposta formatada"
          },
          "response": []
        },
        {
          "name": "Upload with Different Model (LLaMA3:8b) ðŸ¦™",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              },
              {
                "key": "Prompt",
                "value": "Analise este documento e extraia informaÃ§Ãµes importantes de forma detalhada",
                "type": "text"
              },
              {
                "key": "Format-Response",
                "value": "[{\"tipo_documento\": \"\", \"informaÃ§Ãµes_principais\": \"\", \"dados_especÃ­ficos\": \"\"}]",
                "type": "text"
              },
              {
                "key": "Model",
                "value": "llama3:8b",
                "type": "text",
                "description": "ðŸ¦™ Modelo mais avanÃ§ado (requer download prÃ©vio)"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "ðŸ“Ž Selecione qualquer arquivo suportado"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload",
              "host": ["{{base_url}}"],
              "path": ["upload"]
            },
            "description": "Exemplo de upload usando modelo LLaMA3:8b (mais preciso).\n\n**PrÃ©-requisito:** Baixar modelo via endpoint /models/download\n**Quando usar:** Para anÃ¡lises mais detalhadas\n**Vantagem:** Respostas mais precisas e elaboradas"
          },
          "response": []
        }
      ]
    },
    {
      "name": "ðŸ“‹ 3. Monitor Processing",
      "description": "Monitoramento do processamento dos documentos",
      "item": [
        {
          "name": "Get Queue Status ðŸ“Š",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              }
            ],
            "url": {
              "raw": "{{base_url}}/queue",
              "host": ["{{base_url}}"],
              "path": ["queue"]
            },
            "description": "ObtÃ©m o status de todos os documentos na fila de processamento.\n\n**Quando usar:** Para acompanhar o progresso\n**Status possÃ­veis:**\n- uploaded: Arquivo recebido\n- text_extracted: Texto extraÃ­do\n- prompt_processed: LLM processou\n- completed: Finalizado\n- error: Erro no processamento"
          },
          "response": [
            {
              "name": "Queue Status Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/queue",
                  "host": ["{{base_url}}"],
                  "path": ["queue"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"total_documents\": 2,\n    \"queue\": [\n        {\n            \"document_id\": 2,\n            \"filename\": \"teste.jpg\",\n            \"status\": \"completed\",\n            \"created_at\": \"2024-01-01T10:30:00\",\n            \"updated_at\": \"2024-01-01T10:32:15\",\n            \"completed_at\": \"2024-01-01T10:32:15\"\n        },\n        {\n            \"document_id\": 1,\n            \"filename\": \"documento.pdf\",\n            \"status\": \"text_extracted\",\n            \"created_at\": \"2024-01-01T10:25:00\",\n            \"updated_at\": \"2024-01-01T10:27:30\",\n            \"completed_at\": null\n        }\n    ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ“¥ 4. Get Results",
      "description": "ObtenÃ§Ã£o dos resultados processados",
      "item": [
        {
          "name": "Get Document Response ðŸ“‹",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              }
            ],
            "url": {
              "raw": "{{base_url}}/response/{{document_id}}",
              "host": ["{{base_url}}"],
              "path": ["response", "{{document_id}}"]
            },
            "description": "ObtÃ©m a resposta processada para um documento especÃ­fico.\n\n**Quando usar:** ApÃ³s o upload para obter resultado\n**VariÃ¡vel:** document_id (preenchida automaticamente)\n**Aguardar:** Status 'completed' na queue"
          },
          "response": [
            {
              "name": "Completed Document Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/response/1",
                  "host": ["{{base_url}}"],
                  "path": ["response", "1"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"data\": {\n        \"document_id\": 1,\n        \"filename\": \"teste.jpg\",\n        \"status\": \"completed\",\n        \"created_at\": \"2024-01-01T10:30:00\",\n        \"completed_at\": \"2024-01-01T10:32:15\",\n        \"response\": \"[{\\\"CNPJ\\\": \\\"12.345.678/0001-90\\\", \\\"empresa\\\": \\\"Empresa Exemplo LTDA\\\"}]\",\n        \"llm_response\": \"Baseado na anÃ¡lise da imagem, identifiquei o CNPJ 12.345.678/0001-90 pertencente Ã  empresa Empresa Exemplo LTDA.\"\n    }\n}"
            },
            {
              "name": "Processing Document Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/response/1",
                  "host": ["{{base_url}}"],
                  "path": ["response", "1"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"data\": {\n        \"document_id\": 1,\n        \"filename\": \"teste.jpg\",\n        \"status\": \"text_extracted\",\n        \"created_at\": \"2024-01-01T10:30:00\",\n        \"completed_at\": null,\n        \"message\": \"Document is still being processed\"\n    }\n}"
            }
          ]
        },
        {
          "name": "Get Specific Document (ID: 1) ðŸŽ¯",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/response/1",
              "host": ["{{base_url}}"],
              "path": ["response", "1"]
            },
            "description": "Exemplo fixo para obter resposta do documento ID 1.\n\n**Quando usar:** Para testar com ID especÃ­fico"
          },
          "response": []
        }
      ]
    },
    {
      "name": "âš™ï¸ 5. Compute Configuration",
      "description": "ConfiguraÃ§Ã£o de modo de processamento (CPU/GPU)",
      "item": [
        {
          "name": "Get Current Compute Mode ðŸ“Š",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              }
            ],
            "url": {
              "raw": "{{base_url}}/config/compute",
              "host": ["{{base_url}}"],
              "path": ["config", "compute"]
            },
            "description": "ObtÃ©m o modo de processamento atual do Ollama.\n\n**Quando usar:** Para verificar se estÃ¡ usando CPU ou GPU\n**Resposta:** ConfiguraÃ§Ã£o atual e variÃ¡veis de ambiente"
          },
          "response": [
            {
              "name": "Compute Mode Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/config/compute",
                  "host": ["{{base_url}}"],
                  "path": ["config", "compute"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"compute_mode\": \"cpu\",\n    \"gpu_enabled\": false,\n    \"cuda_devices\": \"\",\n    \"config\": {\n        \"OLLAMA_COMPUTE_MODE\": \"cpu\",\n        \"OLLAMA_GPU_ENABLED\": \"0\",\n        \"CUDA_VISIBLE_DEVICES\": \"\"\n    }\n}"
            }
          ]
        },
        {
          "name": "Set CPU Mode ðŸ–¥ï¸",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              },
              {
                "key": "Compute-Mode",
                "value": "cpu",
                "type": "text",
                "description": "ðŸ–¥ï¸ Modo de processamento CPU"
              }
            ],
            "url": {
              "raw": "{{base_url}}/config/compute",
              "host": ["{{base_url}}"],
              "path": ["config", "compute"]
            },
            "description": "Configura o Ollama para usar apenas CPU.\n\n**Quando usar:** Para economizar energia ou quando nÃ£o hÃ¡ GPU\n**Efeito:** Reinicia Ollama em modo CPU"
          },
          "response": [
            {
              "name": "CPU Mode Set",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  },
                  {
                    "key": "Compute-Mode",
                    "value": "cpu"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/config/compute",
                  "host": ["{{base_url}}"],
                  "path": ["config", "compute"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Compute mode set to CPU\",\n    \"compute_mode\": \"cpu\",\n    \"gpu_enabled\": false,\n    \"restart_required\": false\n}"
            }
          ]
        },
        {
          "name": "Set GPU Mode ðŸš€",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              },
              {
                "key": "Compute-Mode",
                "value": "gpu",
                "type": "text",
                "description": "ðŸš€ Modo de processamento GPU"
              }
            ],
            "url": {
              "raw": "{{base_url}}/config/compute",
              "host": ["{{base_url}}"],
              "path": ["config", "compute"]
            },
            "description": "Configura o Ollama para usar GPU (se disponÃ­vel).\n\n**Quando usar:** Para processamento mais rÃ¡pido com GPU\n**Efeito:** Reinicia Ollama em modo GPU\n**Requisito:** CUDA compatÃ­vel"
          },
          "response": [
            {
              "name": "GPU Mode Set",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  },
                  {
                    "key": "Compute-Mode",
                    "value": "gpu"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/config/compute",
                  "host": ["{{base_url}}"],
                  "path": ["config", "compute"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Compute mode set to GPU\",\n    \"compute_mode\": \"gpu\",\n    \"gpu_enabled\": true,\n    \"restart_required\": false\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ¤– 6. Model Management",
      "description": "Gerenciamento de modelos Ollama",
      "item": [
        {
          "name": "List Available Models ðŸ“‹",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              }
            ],
            "url": {
              "raw": "{{base_url}}/models/list",
              "host": ["{{base_url}}"],
              "path": ["models", "list"]
            },
            "description": "Lista todos os modelos Ollama disponÃ­veis no sistema.\n\n**Quando usar:** Para verificar modelos instalados\n**Resposta:** Lista de modelos com status"
          },
          "response": [
            {
              "name": "Models List Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/models/list",
                  "host": ["{{base_url}}"],
                  "path": ["models", "list"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"models\": [\n        {\n            \"name\": \"gemma3:1b\",\n            \"status\": \"available\"\n        },\n        {\n            \"name\": \"llama3:8b\",\n            \"status\": \"available\"\n        }\n    ],\n    \"total_models\": 2\n}"
            }
          ]
        },
        {
          "name": "Download New Model ðŸ“¥",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text",
                "description": "ðŸ”‘ API Key para autenticaÃ§Ã£o"
              },
              {
                "key": "Model-Name",
                "value": "gemma2:2b",
                "type": "text",
                "description": "ðŸ¤– Nome do modelo para download (equilibrado, 1.6GB)"
              }
            ],
            "url": {
              "raw": "{{base_url}}/models/download",
              "host": ["{{base_url}}"],
              "path": ["models", "download"]
            },
            "description": "Faz download de um novo modelo Ollama.\n\n**Quando usar:** Para instalar novos modelos\n**ðŸ¤– Modelos VÃ¡lidos:**\n- **LLaMA 3**: llama3:8b, llama3:70b\n- **Gemma 2**: gemma2:2b, gemma2:9b, gemma2:27b\n- **Mistral**: mistral:7b, mistral:instruct\n- **Qwen 2**: qwen2:0.5b, qwen2:1.5b, qwen2:7b\n- **Phi-3**: phi3:mini, phi3:medium\n\n**ðŸ’¡ RecomendaÃ§Ãµes:**\n- qwen2:0.5b (500MB) - Mais rÃ¡pido\n- gemma2:2b (1.6GB) - Equilibrado\n- llama3:8b (4.7GB) - Mais preciso\n\n**AtenÃ§Ã£o:** Download pode levar vÃ¡rios minutos"
          },
          "response": [
            {
              "name": "Model Download Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  },
                  {
                    "key": "Model-Name",
                    "value": "llama3:8b"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/models/download",
                  "host": ["{{base_url}}"],
                  "path": ["models", "download"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Model llama3:8b downloaded successfully\",\n    \"model_name\": \"llama3:8b\",\n    \"output\": \"pulling manifest\\npulling layers...\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "âŒ 7. Error Testing",
      "description": "Testes de erro e validaÃ§Ã£o",
      "item": [
        {
          "name": "Test Invalid API Key ðŸ”",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "invalid-key-test-123",
                "type": "text",
                "description": "ðŸš« API Key invÃ¡lida para teste"
              }
            ],
            "url": {
              "raw": "{{base_url}}/queue",
              "host": ["{{base_url}}"],
              "path": ["queue"]
            },
            "description": "Testa o comportamento da API com uma chave invÃ¡lida.\n\n**Resultado esperado:** Erro 401 Unauthorized\n**Quando usar:** Para validar seguranÃ§a"
          },
          "response": [
            {
              "name": "Invalid API Key Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "invalid-key"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/queue",
                  "host": ["{{base_url}}"],
                  "path": ["queue"]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"error\",\n    \"message\": \"Invalid API key\",\n    \"status_code\": 401\n}"
            }
          ]
        },
        {
          "name": "Test Invalid Model Download ðŸš«",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              },
              {
                "key": "Model-Name",
                "value": "invalid:model",
                "type": "text",
                "description": "ðŸš« Modelo invÃ¡lido para teste de erro"
              }
            ],
            "url": {
              "raw": "{{base_url}}/models/download",
              "host": ["{{base_url}}"],
              "path": ["models", "download"]
            },
            "description": "Testa o comportamento quando se tenta baixar um modelo que nÃ£o existe.\n\n**Resultado esperado:** Erro 404 com mensagem clara\n**Quando usar:** Para validar tratamento de modelos invÃ¡lidos"
          },
          "response": [
            {
              "name": "Invalid Model Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  },
                  {
                    "key": "Model-Name",
                    "value": "invalid:model"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/models/download",
                  "host": ["{{base_url}}"],
                  "path": ["models", "download"]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"error\",\n    \"message\": \"Model 'invalid:model' does not exist. Please check the model name and try again.\",\n    \"status_code\": 404\n}"
            }
          ]
        },
        {
          "name": "Test Document Not Found ðŸ”",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Key",
                "value": "{{api_key}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/response/999999",
              "host": ["{{base_url}}"],
              "path": ["response", "999999"]
            },
            "description": "Testa o comportamento quando um documento nÃ£o existe.\n\n**Resultado esperado:** Erro 404 Not Found\n**Quando usar:** Para validar tratamento de erros"
          },
          "response": [
            {
              "name": "Document Not Found Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Key",
                    "value": "{{api_key}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/response/999999",
                  "host": ["{{base_url}}"],
                  "path": ["response", "999999"]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"error\",\n    \"message\": \"Document not found\",\n    \"status_code\": 404\n}"
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Pre-request script global",
          "console.log('ðŸš€ Executando request para:', pm.request.url);"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Test script global",
          "if (pm.response.code >= 200 && pm.response.code < 300) {",
          "    console.log('âœ… Request executado com sucesso!');",
          "} else {",
          "    console.log('âŒ Request falhou com status:', pm.response.code);",
          "}"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string",
      "description": "ðŸŒ URL base da API"
    },
    {
      "key": "api_key",
      "value": "myelin-ocr-llm-2024-super-secret-key",
      "type": "string",
      "description": "ðŸ”‘ Chave de API para autenticaÃ§Ã£o"
    },
    {
      "key": "document_id",
      "value": "1",
      "type": "string",
      "description": "ðŸ“„ ID do documento (preenchido automaticamente apÃ³s upload)"
    },
    {
      "key": "last_uploaded_filename",
      "value": "",
      "type": "string",
      "description": "ðŸ“ Nome do Ãºltimo arquivo enviado"
    }
  ]
} 